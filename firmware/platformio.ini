; PlatformIO Project Configuration
; HUB75 LED Panel Controller for RP2040
;
; Build environments:
;   pio run -e pico          : Build with PIO (default, recommended)
;   pio run -e pico_gpio     : Build with CPU GPIO bit-banging
;
; Upload:  pio run -t upload -e <env>
; Monitor: pio device monitor

[env]
platform = https://github.com/maxgerhardt/platform-raspberrypi.git
board = pico
framework = arduino

; Use Earle Philhower's Arduino core (required for multicore & PIO)
board_build.core = earlephilhower

; Common build flags
build_flags =
    -D USE_TINYUSB=1
    -D CFG_TUSB_CONFIG_FILE=\"tusb_config.h\"
    -I include
    -D ARDUINO_USB_CDC_ON_BOOT=1
    -O2

; Monitor settings
monitor_speed = 115200

; Upload method
upload_protocol = picotool

; ============================================
; PIO mode (default, high-speed)
; ============================================
[env:pico]
build_flags =
    ${env.build_flags}
    -D HUB75_USE_PIO=1

; ============================================
; CPU GPIO mode (bit-banging, no PIO)
; ============================================
[env:pico_gpio]
build_flags =
    ${env.build_flags}
    -D HUB75_USE_PIO=0

; ============================================
; 128x64 panel mode (PIO, larger display)
; ============================================
[env:pico_64]
build_flags =
    ${env.build_flags}
    -D HUB75_USE_PIO=1
    -D DISPLAY_HEIGHT=64
